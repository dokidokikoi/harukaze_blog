<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.harukaze.blog.app.dao.ArticleTagDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="com.harukaze.blog.app.entity.ArticleTagEntity" id="articleTagMap">
        <result property="id" column="id"/>
        <result property="articleId" column="article_id"/>
        <result property="tagId" column="tag_id"/>
    </resultMap>

    <select id="selectTagListByArticleId" resultType="TagEntity">
        SELECT t.`id`, t.`tag_name`
        FROM hk_tag t, hk_article_tag `at`
        WHERE `at`.`article_id` = #{id} AND `at`.`tag_id` = t.`id`
    </select>

    <select id="selectArticleListByTagId" resultType="articleEntity">
        select a.`id`, a.`view_counts`, a.`comment_counts`
        from hk_article a, hk_article_tag `at`
        where `at`.`tag_id` = #{id} and `at`.`article_id` = a.`author_id`
    </select>
</mapper>